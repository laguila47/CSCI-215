<!--
    ----
     Rework the 'Prime Number Checker' example from section 5 to use bootstrap UI elements, events and functions as
     illustrated in examples e7.1 and e7.2.
    ----

    Prime Number Checker

    A prime number is a positive integer greater than 1 that is only divisible by 1 and itself.
    For example, 2, 3, 5, 7, 11 are the first few prime numbers. Write a JavaScript program that
    will accept a single numeric value and determine if it is a prime number or not. For cases
    when the number is not a prime number include all divisors.

    The solution should include the following elements:

    - use Bootstrap's grid for layout
    - use input field to receive the number
    - validate that the value from the user is a number, display a 'danger' alert if needed
    - use an event to call a function that performs the prime check and displays the result
    
-->
<!doctype html>
<html lang="en">
<head>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <!-- Bootstrap CSS -->
    <link
            href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css"
            rel="stylesheet"
            integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
    <title>Prime Check</title>
</head>
<body>
<div class="container">
    <div class="row">
        <div class="col-3">
        </div>
        <div class="col-6">
            <div class="card mt-5" style="background-color: #efefef;">
                <div class="card-body">
                    <h5 class="card-title">Prime Check</h5>
                    <p class="card-text">Enter a number to check if it is a prime.</p>
                    <!-- input field with button -->
                    <div class="input-group mt-3">
                        <input type="number" class="form-control" id="prime" placeholder="Enter a number" aria-label="Enter a number" aria-describedby="button-addon2">
                        <button class="btn btn-primary" type="button" onclick="isPrime()" id="button-addon2">Check</button>
                    </div>
                    <!-- display result -->
                    <div id="alert"></div>

                    <div class="text-center my-5" style="font-size: 20px;">
                        <span id="primeCheck"></span>
                    </div>
                    <div class="text-center my-5" style="font-size: 20px;">
                        <span id="divisors"></span>
                    </div>
                </div>
            </div>
        </div>
        <div class="col-3">
        </div>
    </div>
</div>
<script>
    function isPrime() {
        let num = document.getElementById('prime').value;
        // calculations
        let isPrime = true;
        let divisors = [];
        
        if(num>0)
        {
            if (num >= 2) {
                // determine if possiblePrime is not a prime
                // evenly divisible by any number > 2 and possiblePrime
                for (let i=2; i < num; i++) {
                    if (num%i == 0) {
                        isPrime = false;
                        divisors.push(i);
                    }
                }

            } else {
                isPrime = false;
            }

            // output
            if (isPrime === true) {
                document.getElementById('primeCheck').innerHTML = `${num} is a prime number :)`;
                document.getElementById('divisors').innerHTML = '';
                document.getElementById('alert').innerHTML = '';
            } else {
                document.getElementById('primeCheck').innerHTML = `${num} is NOT a prime number :( <br/>`;
                document.getElementById('divisors').innerHTML = `${num} is divisible by ${divisors}`;
                document.getElementById('alert').innerHTML = '';
            }
        }
        else{
            let checkNull = document.getElementById("primeCheck");
            document.getElementById('alert').innerHTML = '<div class="alert alert-danger" role="alert">Enter a Positive Number!</div>';
            if(checkNull != null)
            {
                document.getElementById('primeCheck').innerHTML = '';
                document.getElementById('divisors').innerHTML = '';
            }
        }
    }

</script>
</body>
</html>